# üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û–±–∑–æ—Ä

–ö–∞–ª–µ–Ω–¥–∞—Ä—å –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–Ω—è—Ç–∏–π —Å —É—á–∏—Ç–µ–ª—è–º–∏. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–µ–¥–µ–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Å–ª–æ—Ç–∞–º–∏ –æ—Ç 10:00 –¥–æ 22:00.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
components/booking/
  ‚îî‚îÄ‚îÄ WeeklyCalendar.vue      # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—è

utils/
  ‚îî‚îÄ‚îÄ calendar.ts             # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏

composables/
  ‚îî‚îÄ‚îÄ booking.ts              # API –º–µ—Ç–æ–¥—ã (–ø–æ–∫–∞ mock)

pages/
  ‚îî‚îÄ‚îÄ booking.vue             # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
```

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. **–ù–µ–¥–µ–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** - –ü–ù-–í–° —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –º–µ–∂–¥—É –º–µ—Å—è—Ü–∞–º–∏
2. **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã** - –æ—Ç 10:00 –¥–æ 22:00 —Å —à–∞–≥–æ–º 1 —á–∞—Å
3. **–ù–∞–≤–∏–≥–∞—Ü–∏—è**:
   - –°—Ç—Ä–µ–ª–∫–∏ –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–µ–¥–µ–ª—å
   - –ö–Ω–æ–ø–∫–∞ "Today" –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ —Ç–µ–∫—É—â–µ–π –Ω–µ–¥–µ–ª–µ
4. **–í—ã–±–æ—Ä —Å–ª–æ—Ç–æ–≤** - –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤
5. **–°–æ—Å—Ç–æ—è–Ω–∏—è —è—á–µ–µ–∫**:
   - –î–æ—Å—Ç—É–ø–Ω—ã–µ (—Å–∏–Ω–∏–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏)
   - –í—ã–±—Ä–∞–Ω–Ω—ã–µ (—Å–∏–Ω–∏–µ)
   - –ù–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ (—Å–µ—Ä—ã–µ, disabled)
   - –ü—Ä–æ—à–µ–¥—à–∏–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ disabled)
6. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —Å–≤—è–∑—å —Å –º–æ–¥–∞–ª–∫–æ–π –æ–ø–ª–∞—Ç—ã, –ø–µ—Ä–µ–¥–∞—á–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤

### üîß –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

#### –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –º–µ—Å—è—Ü–∞–º–∏

–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–∏—Ç—É–∞—Ü–∏–∏ –∫–æ–≥–¥–∞ –Ω–µ–¥–µ–ª—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—è—Ü–µ, –∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º:

```
30 –æ–∫—Ç—è–±—Ä—è (–ü–ù)
31 –æ–∫—Ç—è–±—Ä—è (–í–¢)
1 –Ω–æ—è–±—Ä—è (–°–†)
2 –Ω–æ—è–±—Ä—è (–ß–¢)
3 –Ω–æ—è–±—Ä—è (–ü–¢)
4 –Ω–æ—è–±—Ä—è (–°–ë)
5 –Ω–æ—è–±—Ä—è (–í–°)
```

#### –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö

**–°–ª–æ—Ç –≤—Ä–µ–º–µ–Ω–∏:**

```typescript
"2024-11-13_10:00"; // —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```

**API –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã (mock):**

```typescript
[
  "2024-11-13T10:00",
  "2024-11-13T11:00",
  // ...
];
```

## üîå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```vue
<WeeklyCalendar
  :mentor-id="selectedMentor?.id"
  :available-slots="availableSlots"
  @confirm="handleSlotsConfirm"
/>
```

### Props:

- `mentorId` (number, optional) - ID –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —É—á–∏—Ç–µ–ª—è
- `availableSlots` (string[], optional) - –ú–∞—Å—Å–∏–≤ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ –æ—Ç API

### Events:

- `confirm` - –°–æ–±—ã—Ç–∏–µ –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –≤—ã–±–æ—Ä–∞, –ø–µ—Ä–µ–¥–∞–µ—Ç –º–∞—Å—Å–∏–≤ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤

## üöÄ TODO - –ö–æ–≥–¥–∞ API –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤:

### 1. –í `composables/booking.ts`:

–ó–∞–º–µ–Ω–∏—Ç—å mock —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API:

```typescript
const fetchAvailableSlots = async (mentorId: number) => {
  const token = useCookie("access_token");
  const url = `${API_BASE}/api/v1/student/bookings/available-slots?mentorId=${mentorId}`;

  const data = await $fetch<string[]>(url, {
    headers: {
      Authorization: `Bearer ${token.value}`,
    },
  });

  return data;
};
```

### 2. –í `pages/booking.vue`:

–ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

```typescript
import { useBooking } from "@/composables/booking";

const { fetchAvailableSlots } = useBooking();
const availableSlots = ref([]);

// –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —É—á–∏—Ç–µ–ª—è
const selectMentor = async (mentor) => {
  selectedMentor.value = mentor;
  availableSlots.value = await fetchAvailableSlots(mentor.id);
  bookModalVisible.value = true;
};
```

### 3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:

```typescript
const handlePaymentOk = async () => {
  const { createBooking } = useBooking();

  const result = await createBooking({
    mentorId: selectedMentor.value.id,
    slots: selectedSlots.value,
    description: description.value,
  });

  if (result) {
    // –£—Å–ø–µ—à–Ω–æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ
    paymentModalVisible.value = false;
  }
};
```

## üìã –í–æ–∑–º–æ–∂–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã API –æ—Ç–≤–µ—Ç–æ–≤:

### –í–∞—Ä–∏–∞–Ω—Ç 1: ISO —Å—Ç—Ä–æ–∫–∏

```json
["2024-11-13T10:00:00", "2024-11-13T11:00:00"]
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–±—ä–µ–∫—Ç—ã

```json
[
  { "date": "2024-11-13", "time": "10:00" },
  { "date": "2024-11-13", "time": "11:00" }
]
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ API –≤–µ—Ä–Ω–µ—Ç –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç, –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é `fetchAvailableSlots`.

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞:

- `--blue` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- `--light-blue` - —Ñ–æ–Ω –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- `--border` - —Ü–≤–µ—Ç –≥—Ä–∞–Ω–∏—Ü
- `--dark` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç
- `--light-grey` - –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç

## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∞–¥–∞–ø—Ç–∏–≤–µ–Ω –∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏.

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã: 10:00-22:00 —Å —à–∞–≥–æ–º 1 —á–∞—Å
2. Mock –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∂–¥–µ–º API)
3. –¶–µ–Ω—ã –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ –º–æ–¥–∞–ª–∫–µ –æ–ø–ª–∞—Ç—ã

## üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

- –í—Å–µ –¥–∞—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO: `YYYY-MM-DD`
- –ù–µ–¥–µ–ª—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞ (0) –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ–º (6)
- –ü—Ä–æ—à–µ–¥—à–∏–µ —Å–ª–æ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ
- –ü—Ä–∏ —Å–º–µ–Ω–µ –Ω–µ–¥–µ–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è
